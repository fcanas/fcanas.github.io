<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Music Stand</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <style media="screen" type="text/css">
    .sourceCode { overflow: visible; }
  </style>
  <link rel="stylesheet" href="/writ.min.css">
</head>
<body>
<header>
<h1>fabián cañas</h1>
<nav>
<ul>
  <li><a href='/'>about</a></li>
  <li><a href='/blog/'>writing</a></li>
  <li><a href='/software/'>software</a></li>
  |
  <li><a href='https://www.github.com/fcanas'>GitHub</a></li>
  <li style='display: none;'><a href='https://www.twitter.com/fcanas'>Twitter</a></li>
  <li><a rel="me" href="https://mastodon.social/@fcanas">Mastodon</a></li>
</ul>
</nav>
</header>
<main>
<article>
<h1>Music Stand</h1>
<p><img src="music-stand.png" alt=""/></p>
<ul>
<li><a href="https://github.com/fcanas/MusicStand/releases/download/v1.0/MusicStand.zip">Download 3:4 Aspect Ratio</a></li>
<li><a href="https://github.com/fcanas/MusicStand/releases/download/v1.0/MusicStand_wide_screen.zip">Download Widescreen</a></li>
</ul>
<p>A digital music stand. The idea is to have my computer onstage with a screen mounted up about where a music stand should be. I can select songs and page through them with a foot controller or keyboard. It also has a built-in clock, useful for making sure your set runs on schedule.</p>
<h2 id="getting-songs-in">Getting Songs In</h2>
<p>XML. In the same directory as the OnStageReader file, you should put a file called songs.xml structured as follows:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb1-1"><a href="#cb1-1"></a><span class="dv">&amp;lt;</span>data<span class="dv">&amp;gt;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>   <span class="dv">&amp;lt;</span>entry<span class="dv">&amp;gt;</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>      <span class="dv">&amp;lt;</span>title<span class="dv">&amp;gt;</span>Song Title Goes Here<span class="dv">&amp;lt;</span>/title<span class="dv">&amp;gt;</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>      <span class="dv">&amp;lt;</span>page<span class="dv">&amp;gt;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>         <span class="dv">&amp;lt;</span>line<span class="dv">&amp;gt;</span>C#m_____________E<span class="dv">&amp;lt;</span>/line<span class="dv">&amp;gt;</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>         <span class="dv">&amp;lt;</span>line<span class="dv">&amp;gt;</span>Some lyrics and chords like so.<span class="dv">&amp;lt;</span>/line<span class="dv">&amp;gt;</span></span>
<span id="cb1-7"><a href="#cb1-7"></a>      <span class="dv">&amp;lt;</span>/page<span class="dv">&amp;gt;</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>   <span class="dv">&amp;lt;</span>/entry<span class="dv">&amp;gt;</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>   <span class="dv">&amp;lt;</span>entry<span class="dv">&amp;gt;</span></span>
<span id="cb1-10"><a href="#cb1-10"></a>      <span class="dv">&amp;lt;</span>title<span class="dv">&amp;gt;</span>Another song<span class="dv">&amp;lt;</span>/title<span class="dv">&amp;gt;</span></span>
<span id="cb1-11"><a href="#cb1-11"></a>      <span class="dv">&amp;lt;</span>page<span class="dv">&amp;gt;</span></span>
<span id="cb1-12"><a href="#cb1-12"></a>         <span class="dv">&amp;lt;</span>line<span class="dv">&amp;gt;</span>Whatever you want.<span class="dv">&amp;lt;</span>/line<span class="dv">&amp;gt;</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>      <span class="dv">&amp;lt;</span>/page<span class="dv">&amp;gt;</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>      <span class="dv">&amp;lt;</span>page<span class="dv">&amp;gt;</span></span>
<span id="cb1-15"><a href="#cb1-15"></a>         <span class="dv">&amp;lt;</span>line<span class="dv">&amp;gt;</span>Whatever else.<span class="dv">&amp;lt;</span>/line<span class="dv">&amp;gt;</span></span>
<span id="cb1-16"><a href="#cb1-16"></a>      <span class="dv">&amp;lt;</span>/page<span class="dv">&amp;gt;</span></span>
<span id="cb1-17"><a href="#cb1-17"></a>   <span class="dv">&amp;lt;</span>/entry<span class="dv">&amp;gt;</span></span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="dv">&amp;lt;</span>/data<span class="dv">&amp;gt;</span></span></code></pre></div>
<p>The music stand program parses the XML file and everything just works. Currently multiple tabs and spaces are reduced to a single space, so I use underscores to appropriately space out chords. You are responsible for making sure lines don’t run off the screen, both off the side and off the bottom. In the future, I may implement auto line wrapping, but I prefer manual page generation. The whole point is that you get the information you need on stage, whether chords, notes or lyrics. To do that right, you ought to have complete control over formatting.</p>
<h2 id="state-of-the-project">State of the Project</h2>
<p>Right now, I have a fully functional prototype. My biggest reservation in calling it done is that it runs hosted inside two other applications: Quartz Composer (which comes with Apple’s Developer Tools), and Pd (Miller Puckette’s PureData), both of which are free. With some work I can actually get this up and running as its own program and robustly accepting different types of control input. Only then will it be v1.0.</p>
<p>Next on the list of features is proper song management system. I want to be able to make a song library, and then make set lists like making a playlist in iTunes. This is definitely getting thrown into the mix when I make the program stand-alone.</p>
<p>Also, there is no reason why I couldn’t have this program display a real music staff, not just chords or tabs. These would be saved as vector graphics and either included straight in the xml or referenced from it. This feature will likely come much later as I only usually need lyrics and chords as a reminder of what notes to play.</p>
<h2 id="running-the-program">Running the Program</h2>
<p>It works on Macs running OS 10.5. Quartz Composer has come with the Apple Developer Tools since OS 10.4, but this particular patch uses some new features in QC version 3.0. Pd is not necessary to get the patch working, but is necessary fi you want to use any MIDI signals other than notes to control the screen. I use a small Pd patch to route commands from a MIDI foot-controller to Quartz Composer.</p>
<p>If you don’t have Quartz Composer, your system will try and open the patch in Quicktime. Quicktime doesn’t allow access to the songs.xml file, so this will not work. Download the developer tools from Apple or convince (or pay) me to get a more complete program up and running.</p>
<h3 id="update">Update:</h3>
<p>I’ve done a quick modernization of the main patch to work well on a wide-screen computer and working cleanly under Snow Leopard.</p>
<h3 id="update-2">Update 2:</h3>
<p>This modernization has held strong, and is still working fine seven years later.</p>
</article>
</main>
</body>
</html>
