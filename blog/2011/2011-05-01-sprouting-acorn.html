<html>
<head><title>Deleting Folders in TrustyBook</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/writ.min.css">
<link rel="stylesheet" href="/code.css">
</head>

<body>
  <header>
    <h1>fabián cañas</h1>
    <nav>
    <ul>
      <li><a href='/'>about</a></li>
      <li><a href='/blog/'>writing</a></li>
      <li><a href='/software/'>software</a></li>
      |
      <li><a href='https://www.github.com/fcanas'>GitHub</a></li>
      <li><a href='https://www.twitter.com/fcanas'>Twitter</a></li>
    </ul>
    </nav>
  </header>
  <main>
<article>
<h1>Sprouting Acorn</h1>
<date>2011-05-01</date>
<p style="margin-left:0px; margin-right:0px">Not long after my previous post, I found <a href="http://www.qotile.net/blog/wp/?p=600">raytraced renderings of Life</a>, which included some code, and <a href="http://www.flickr.com/photos/30953739@N08/2917331856/">these</a>images, which lacked documentation but are undoubtedly raytraced.</p><p>My previous post used MATLAB’s built-in 3D rendering functions, and it wasn’t pretty. It also got really slow and harder to look at as the forms got bigger. I’m doing some 3D segmentation of the forms (for science), and I need to visually check those results. MATLAB’s not up to handling so many polygons. I needed an external renderer.</p><p>So I built a <span>MATLAB</span> to <a href="http://www.yafaray.org/">YafaRay</a> pipeline and started rendering the famous (and huge) Acorn form through 57 generations. In this light it looks like something out of Minecraft.</p><h2>Technical Approach, MATLAB-side</h2><p>Most 3D object specifications, including Yafaray’s internal xml scene description, accept a list of 3D points, and faces that reference those points. My approach is to construct the scene one layer at a time from the beginning of the simulation to the end.</p><p>For each live cell, define the four points in its base, and make the bottom face. Define the four points for its top, and make the top and side faces.</p><p>This simple approach on Acorn for 100 generations produces a 4.1MB xml file (without defining back-faces). Eliminating duplicate points reduces the scene description to 2.9MB. Rudimentary duplicate face elimination further reduces size to 2.5M. On my to-do list is to implement a more thorough duplicate face elimination.</p><p>I probably won’t go through the trouble of finding contiguous coplanar faces, and re-represent them as larger rectangles. Nor will I cull occluded portions of the scene.</p><h2>Acorn</h2><p>Rendering Acorn out to 260 generations uses a 12MB xml file and looks pretty impressive. It’s growing to a scale where the cubes are just details in the larger form. At least for some of my initial work, this is a <em>much</em>bigger form than I need.</p><p>Unfortunately, I’m not so skilled with setting up lighting and camera angles quite just yet and my efforts are going back to segmentation and clustering for the time being. So I won’t be exploring Acorn for a while. But I suspect that this line of work will continue to yield cool images.</p><h2>A Buggy Render</h2><p>While I debugged some of the scene optimization code that eliminated duplicate points, the point references used by the faces sometimes got screwed up, leading to some beautiful jagged shapes:</p>
</article></main></body></html>
